# PCA-HIJAB Product Requirements Document (PRD)

## 1. 제품 개요

### 1.1 프로젝트 정보
- **제품명**: PCA-HIJAB (Personal Color Analysis for Hijab)
- **버전**: 3.0
- **작성일**: 2025-01-31
- **작성 목적**: 현재 구현된 기능을 바탕으로 한 디자인 작업용 명세서
- **라이브 URL**: https://pca-hijab.vercel.app

### 1.2 제품 비전
AI 기반 퍼스널컬러 진단을 통해 히잡을 착용하는 여성들이 자신에게 가장 잘 어울리는 색상을 찾고, 맞춤형 제품을 추천받을 수 있는 서비스

### 1.3 핵심 가치
- **개인화**: 개인별 퍼스널컬러에 기반한 맞춤 추천
- **편의성**: 간단한 사진 업로드로 즉시 진단
- **신뢰성**: AI 기술 기반의 정확한 분석
- **접근성**: 로그인 없이도 기본 기능 사용 가능

## 2. 타겟 사용자

### 2.1 주요 타겟
- **연령**: 18-35세
- **성별**: 여성
- **특징**: 히잡 착용자, 인스타그램 활발 사용
- **니즈**: 
  - 자신에게 어울리는 히잡 색상 찾기
  - 구매 결정 시 색상 가이드 필요
  - 뷰티/패션에 관심 높음

### 2.2 사용자 페르소나

#### 페르소나 1: 패션 관심형
- 23세, 대학생
- 다양한 히잡 스타일 시도
- SNS에 일상 공유 활발
- 트렌디한 색상 선호

#### 페르소나 2: 실용 중시형  
- 28세, 직장인
- 깔끔하고 단정한 스타일 선호
- 구매 전 신중한 검토
- 품질과 실용성 중시

## 3. 기능 명세

### 3.1 퍼스널컬러 진단 기능

#### 3.1.1 사진 업로드
**목적**: 사용자 얼굴 사진을 통한 퍼스널컬러 분석

**기능 요구사항**:
- 지원 파일 형식: JPG, PNG, HEIC
- 최대 파일 크기: 10MB
- 업로드 방식:
  - 드래그앤드롭
  - 파일 선택 버튼
  - 카메라 직접 촬영 (모바일)
- 이미지 미리보기 제공
- 재업로드 기능

**검증 규칙**:
- 파일 크기 검증
- 파일 형식 검증
- 얼굴 인식 가능 여부 (AI API에서 처리)

#### 3.1.2 AI 분석
**목적**: 업로드된 사진을 기반으로 퍼스널컬러 타입 판별

**분석 단계**:
1. 피부 언더톤 분석 (20%)
2. 채도 레벨 계산 (45%)
3. 전체 톤 분석 (70%)
4. 컬러 팔레트 생성 (90%)
5. 분석 완료 (100%)

**기술 사양**:
- AI API 엔드포인트: ShowMeTheColor API
- 분석 시간: 평균 5-7초
- 타임아웃: 30초

#### 3.1.3 결과 표시
**결과 타입**:
- 봄 웜톤 (Spring Warm)
- 여름 쿨톤 (Summer Cool)
- 가을 웜톤 (Autumn Warm)
- 겨울 쿨톤 (Winter Cool)

**결과 화면 구성**:
- 퍼스널컬러 타입명
- 타입 설명
- 추천 색상 팔레트 (8-12개 색상)
- 추천 받기 CTA 버튼
- 결과 저장 옵션 (로그인 필요)

### 3.2 사용자 인증 시스템

#### 3.2.1 회원가입
**필수 정보**:
- 이메일 (중복 검증)
- 비밀번호 (최소 8자, 영문+숫자+특수문자)
- 이름

**프로세스**:
1. 정보 입력
2. 유효성 검증
3. 이메일 인증 발송
4. 계정 생성 완료

#### 3.2.2 로그인
**방식**:
- 이메일 + 비밀번호
- JWT 토큰 기반 인증
- HttpOnly 쿠키 저장
- 자동 로그인 옵션

**보안**:
- CSRF 토큰 사용
- 리프레시 토큰 로테이션
- 세션 타임아웃

#### 3.2.3 비밀번호 관리
- 비밀번호 찾기 (이메일 발송)
- 비밀번호 재설정
- 비밀번호 변경 (마이페이지)

### 3.3 제품 탐색 및 관리

#### 3.3.1 제품 카테고리
- 히잡 (Hijab)
- 컬러렌즈 (Lens)
- 립 제품 (Lip)
- 아이섀도우 (Eyeshadow)

#### 3.3.2 제품 필터링
**필터 옵션**:
- 카테고리별
- 퍼스널컬러별
- 복합 필터 (카테고리 + 퍼스널컬러)

#### 3.3.3 제품 상세
**정보 구성**:
- 제품 이미지 (복수)
- 제품명 및 브랜드
- 가격 정보
- 상세 설명
- 소재/특징
- 적합 퍼스널컬러
- Shopee 구매 링크

**기능**:
- 제품 저장 (로그인 필요)
- 공유하기
- 관련 제품 추천

### 3.4 히잡 추천 시스템

#### 3.4.1 추천 요청 프로세스
**단계별 정보 수집**:
1. 소재 선택 (실크, 면, 쉬폰, 폴리에스터 등)
2. 투명도 선택 (불투명, 반투명, 투명)
3. 가격대 선택 (저가, 중가, 고가)
4. 핏 스타일 (루즈핏, 일반핏, 타이트핏)
5. 색상 스타일 (파스텔, 비비드, 뉴트럴, 다크)
6. 추가 요청사항 (선택)

**제출 정보**:
- 인스타그램 ID (필수)
- 세션 ID
- 퍼스널컬러 결과
- 선호도 데이터

#### 3.4.2 추천 처리
- 관리자 대시보드에서 확인
- 큐레이션 후 인스타그램 DM 발송
- 상태 추적 (대기중 → 처리중 → 완료)

### 3.5 마이페이지

#### 3.5.1 퍼스널컬러 정보
- 진단 결과 표시
- 진단 날짜
- 재진단 버튼

#### 3.5.2 제품 관리
- 저장한 제품 목록
- 최근 본 제품 히스토리
- 제품 삭제 기능

#### 3.5.3 계정 설정
- 프로필 정보 수정
- 비밀번호 변경
- 로그아웃

### 3.6 콘텐츠 시스템

#### 3.6.1 콘텐츠 카테고리
- 뷰티 팁 (beauty_tips)
- 히잡 스타일링 (hijab_styling)
- 컬러 가이드 (color_guide)
- 트렌드 (trend)
- 튜토리얼 (tutorial)

#### 3.6.2 콘텐츠 기능
- 카테고리별 필터링
- 인기 콘텐츠 (조회수 기준)
- 최신 콘텐츠
- 관련 콘텐츠 추천

### 3.7 관리자 기능

#### 3.7.1 인증
- API Key 기반 인증
- 세션 기반 접근 제어

#### 3.7.2 제품 관리
- CRUD 기능 (생성, 읽기, 수정, 삭제)
- 활성/비활성 상태 관리
- 이미지 업로드
- 벌크 작업

#### 3.7.3 콘텐츠 관리
- 콘텐츠 작성/편집 (리치 텍스트 에디터)
- 발행 상태 관리 (초안/발행)
- SEO 메타데이터 설정
- 이미지 업로드

#### 3.7.4 추천 관리
- 추천 요청 목록 조회
- 상태 업데이트
- 사용자 정보 확인

## 4. 기술 사양

### 4.1 프론트엔드
- **프레임워크**: React 18 + TypeScript
- **빌드 도구**: Vite
- **스타일링**: Tailwind CSS + CSS Modules
- **상태 관리**: Zustand
- **서버 상태**: React Query
- **라우팅**: React Router v6

### 4.2 백엔드
- **API 서버**: Express.js + TypeScript
- **AI API**: FastAPI (Python)
- **데이터베이스**: In-memory (개발), PostgreSQL ready
- **인증**: JWT + HttpOnly Cookies

### 4.3 배포
- **프론트엔드**: Vercel
- **백엔드**: Render
- **AI API**: 로컬 서버

### 4.4 보안
- HTTPS 강제
- CSRF 보호
- Rate Limiting
- 입력값 검증
- SQL Injection 방지
- XSS 방지

## 5. UI/UX 요구사항

### 5.1 디자인 시스템

#### 색상 팔레트
- **Primary**: #FF6B6B (코랄 핑크)
- **Secondary**: #4ECDC4 (민트)
- **Neutral**: Gray scale (50-900)
- **Semantic**: 
  - Success: #10B981
  - Warning: #F59E0B
  - Error: #EF4444
  - Info: #3B82F6

#### 타이포그래피
- **폰트**: System UI Font Stack
- **크기**: 
  - h1: 2.5rem
  - h2: 2rem
  - h3: 1.5rem
  - body: 1rem
  - small: 0.875rem

#### 컴포넌트
- 버튼 (Primary, Secondary, Outline)
- 입력 필드
- 카드
- 모달
- 토스트
- 로딩 상태

### 5.2 반응형 디자인
- **모바일**: 320px - 767px
- **태블릿**: 768px - 1023px  
- **데스크톱**: 1024px+

### 5.3 접근성
- WCAG 2.1 AA 준수
- 키보드 네비게이션
- 스크린 리더 지원
- 색상 대비 4.5:1 이상

### 5.4 성능
- 첫 화면 로드: < 3초
- AI 분석: < 30초
- 이미지 최적화
- 코드 스플리팅
- 캐싱 전략

## 6. 분석 및 추적

### 6.1 이벤트 추적
- 페이지 뷰
- 진단 완료율
- 제품 클릭률
- 추천 요청률
- 사용자 이탈 지점

### 6.2 성과 지표 (KPI)
- 일일 활성 사용자 (DAU)
- 진단 전환율
- 제품 페이지 체류 시간
- 추천 요청 수
- 재방문율

## 7. 에러 처리

### 7.1 사용자 에러
- 파일 업로드 실패
- 네트워크 연결 오류
- 입력값 검증 실패
- 권한 오류

### 7.2 시스템 에러
- 서버 오류 (500)
- API 타임아웃
- 리소스 없음 (404)

### 7.3 에러 표시
- 토스트 메시지
- 인라인 에러
- 에러 페이지
- 재시도 옵션

## 8. 국제화 (i18n)

### 8.1 지원 언어
- 한국어 (기본)
- 영어 (계획)

### 8.2 현지화 요소
- UI 텍스트
- 날짜/시간 형식
- 통화 표시
- 이미지 내 텍스트

## 9. 향후 계획

### 9.1 단기 (1-3개월)
- 소셜 로그인 추가
- 푸시 알림
- 다크 모드
- PWA 지원

### 9.2 중기 (3-6개월)
- AI 정확도 개선
- 가상 피팅
- 커뮤니티 기능
- 리뷰 시스템

### 9.3 장기 (6개월+)
- 다국어 지원
- B2B 솔루션
- 오프라인 연계
- AI 추천 고도화

## 10. 제약사항

### 10.1 기술적 제약
- 브라우저 지원: Chrome, Safari, Firefox 최신 버전
- 모바일 OS: iOS 12+, Android 8+
- 네트워크: 3G 이상 권장

### 10.2 비즈니스 제약
- 개인정보 최소 수집
- 인스타그램 DM 수동 발송
- 제품 직접 판매 없음 (Shopee 연계)

### 10.3 리소스 제약
- 개발팀 규모
- 서버 용량
- AI API 처리량